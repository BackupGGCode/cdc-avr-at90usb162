<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>ATMEL: AT90USBxxx CDC demonstration</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li id="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<h1>AT90USBxxx CDC demonstration</h1>
<p>
<h2><a class="anchor" name="intro">
License</a></h2>
Use of this program is subject to Atmel's End User License Agreement.<p>
Please read file <a class="el" href="lic_page.html">LICENSE.TXT</a> for copyright notice.<h2><a class="anchor" name="install">
Description</a></h2>
This embedded application source code illustrates how to implement a CDC application and wireless transmissions with the AT90USBxxx controller.<p>
This version implements the Frequency Agility Protocol (FAP) by Nordic Semiconductors, for better robustness against interference from co-existing radio frequency sources.<h2><a class="anchor" name="sample">
About the sample application</a></h2>
By default this sample code is delivered configured for AVRUSBRF01 hardware with the AT90USB162 microcontrolor. define value in <a class="el" href="a00024.html">config.h</a> file.<p>
<div align="center">
<img src="AVRUSBRF01.jpg" alt="AVRUSBRF01.jpg">
</div>
<p>
Hardware information about the AVRUSBRF01, can be found in <a href="../../lib_board/AVRUSBRF01/AVRUSBRF01_sch_layout.pdf">this document</a><p>
This application will enumerates as a CDC (communication device class) virtual COM port. The application can be used as a USB to serial converter. The firmware is operationnal under the following operating systems:<ul>
<li>Windows 2000/XP.Vista (<a href="../../demo/AVRUSBRF01-AT90USB162-usbdevice_cdc_rf_fap/at90usbxxx_cdc.inf">at90usbxxx_cdc.inf</a> is required when the windows new hardware detection wizard prompts for an .inf driver file).</li><li>Linux 2.4 and above</li><li>MacOS X 10.4 and above</li></ul>
<h2><a class="anchor" name="RF_null_modem">
Wireless Null Modem example</a></h2>
Two AVRUSBRF01 and their default CDC_rf_fap firmware can be used to emulate a "Wireless" Null Modem Cable.<p>
-&gt; Press the HWB button on both two AVRUSBRF01 before the first communication to make sure the frequency agility protocol (FAP) is running and synchronized. <div align="center">
<img src="appli.gif" alt="appli.gif">
</div>
<h2><a class="anchor" name="src_code">
About the source code</a></h2>
This source code is usable with the following compilers:<ul>
<li>IAR Embedded Workbench (4.20a and higher)</li><li>AVRGCC (WinAVR 20060421 and higher).</li></ul>
<p>
Support for other compilers may required modifications or attention for:<ul>
<li><a class="el" href="a00021.html">compiler.h</a> file</li><li>special registers declaration file</li><li>interrupt subroutines declarations</li></ul>
<h2><a class="anchor" name="arch">
Architecture</a></h2>
As illustrated in the figure bellow, the application entry point is located is the <a class="el" href="a00034.html">main.c</a> file. The main function first performs the initialization of a scheduler module and then runs it in an infinite loop. The scheduler is a simple infinite loop calling all its tasks defined in the <a class="el" href="a00022.html">conf_scheduler.h</a> file. No real time schedule is performed, when a task ends, the scheduler calls the next task defined in the configuration file (<a class="el" href="a00022.html">conf_scheduler.h</a>).<p>
The sample dual role application is based on two different tasks:<ul>
<li>The usb_task (<a class="el" href="a00057.html">usb_task.c</a> associated source file), is the task performing the USB low level enumeration process in device mode.</li><li>The cdc_rf task performs the loop back application between USB and RF interfaces.</li></ul>
<p>
<div align="center">
<img src="arch_full_fap.gif" alt="arch_full_fap.gif">
</div>
 <hr size="1"><address style="align: right;"><small>Generated on Mon Jul 7 16:29:49 2008 for ATMEL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
